{% extends "layouts/back-end/base.njk" %}
{% set active_menu_item = "articles" %}

{% import "components/back-end/pagination.njk" as pagination with context %}
{% import "components/back-end/list-actions.njk" as list_actions %}
{% import "components/back-end/input-file.njk" as forms with context %}

{% block title %}Articles
{% endblock %}

{% block main %}
    <div class="bg-white rounded-2xl shadow-md pb-6">
        <header class="mb-1 p-6 gap-2 @3xl/main:gap-0 flex justify-between @3xl/main:flex-row flex-col">
            <div>
                {% include "components/back-end/breadcrumb.njk" %}
                <h2 class="text-4xl">
                    Ajouter un article
                </h2>
            </div>
           
        </header>

        <section class="mb-1 p-6 gap-2  flex justify-between @3xl/main:flex-row flex-col">
            <form action="#" method="POST" class="w-[80%] mx-auto">
                <div class="mb-4">
                    <label for="titre" class="block text-sm font-medium text-gray-700">
                        Titre 
                    </label>
                    <input
                        type="text"
                        id="titre"
                        name="titre"
                        class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        placeholder="Titre de l'article"
                        required
                    />
                </div>

                <div class="mb-4">
                    <label for="contenu" class="block text-sm font-medium text-gray-700">
                        Contenu 
                    </label>
                    <textarea
                        id="contenu"
                        name="contenu"
                        rows="4"
                        class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                        placeholder="Contenu de l'article"
                        required
                    ></textarea>
                </div>

                <!-- Utilisation de la macro pour le champ d'image -->
                <div class="mb-4">
                    {{ forms.field(
                        imagename=null, 
                        folder="uploads/articles/", 
                        name="image", 
                        id="image", 
                        accepts=".jpg, .jpeg, .png, .avif"
                    ) }}
                </div>

                <div class="mt-6">
                    <button
                        type="submit"
                        class="w-full px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-md shadow focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
                    >
                        Envoyer
                    </button>
                </div>

                

            </form>
        <section>

      
        <footer class="flex justify-between px-4 flex-col @3xl/main:flex-row relative items-center">
            {{ pagination.item(list_articles) }}
        </footer>
    </div>
{% endblock %}
